#!/bin/zsh

autoload colors ; colors
configdir=~/etc
rm -rf $configdir

#
# This script is used to install my configs on new systems.
#

git clone git://github.com/mklappstuhl/dotfiles.git $configdir

# IF .gitmodules exists...
# load vim, zsh and dot-files submodules
cd $configdir
print -n  "$fg[green]Cloning configs..."
git submodule init
git submodule update
print " Done.$fg[white]"

# load vim submodules a.k.a. bundles
cd $configdir/vim
print -n "$fg[green]Cloning vim bundles..."
git submodule init
git submodule update
print " Done.$fg[white]"

cd $configdir/bin/dot-files
chmod +x dot-files
print "\n$fg[green]Current status:$fg[white]"
./dot-files status
print "\n$fg[green]Installing...$fg[white]"
./dot-files install
print "$fg[green]Done.$fg[white]"

